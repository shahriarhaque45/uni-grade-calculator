<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Grade Calculator</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.4.1/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="twind.css">
    <link rel="icon" href="favicon.png" type="image/x-icon">
  </head>

  <body class="flex flex-col md:flex-row min-h-screen bg-white text-gray-800">
    <!-- Sidebar -->
    <aside id="sidebar" class="bg-gray-100 w-full md:w-64 p-4 shadow-md">
      <div class="mb-6">
        <button class="w-full px-4 py-2 bg-blue-600 text-white rounded-lg mb-2" onclick="window.location.reload()">Grade Calculator</button>

        <!-- Dropdown Menu -->
        <!-- Dropdown Trigger -->
        <div class="relative">
          <button onclick="toggleDropdown()" class="w-full px-4 py-2 bg-gray-200 rounded-lg text-left font-semibold hover:bg-gray-300 transition">
            Grading Policy ⌄
          </button>

          <!-- Animated Dropdown -->
          <div id="gradingDropdown" class="absolute left-0 mt-2 w-full bg-white border rounded-lg shadow-lg z-10 origin-top scale-y-0 opacity-0 transition-transform transition-opacity duration-200">
            <button onclick="selectGradingSystem('UGC')" class="block w-full px-4 py-2 text-left hover:bg-gray-100">UGC</button>
            <button onclick="selectGradingSystem('NSU')" class="block w-full px-4 py-2 text-left hover:bg-gray-100">NSU</button>
            <button onclick="openCustomGrading()" class="block w-full px-4 py-2 text-left hover:bg-gray-100">Custom</button>
          </div>
        </div>
        <!-- Grading Information -->
        <div id="gradingInfo" class="mt-6 bg-white border border-gray-300 rounded-lg p-4 shadow-sm">
          <h3 class="font-semibold text-gray-700 mb-2">
            <span class="text-blue-600">Grading System:</span>
            <span id="currentSystemLabel" class="font-bold text-gray-800">UGC</span>
          </h3>
          <div id="gradingList" class="space-y-2">
            <!-- Grading rows go here -->
          </div>
        </div>

      </div>
      <div class="mt-4 pt-4 border-t border-gray-200 text-center text-gray-500 text-sm">
        Made with ❤️ by Shahriar Haque
    </div>
    </aside>
    <!-- Main content -->
    <main class="flex-1 p-6 overflow-auto">
      <h1 class="text-2xl font-bold mb-6">Grade Calculator</h1>

      <!-- Previous Credit & CGPA -->
      <div class="flex flex-col md:flex-row gap-4 mb-6">
        <input type="number" step="0.5" id="prevCredits" placeholder="Previously Completed Credits" class="p-3 border rounded-md w-full md:w-1/2">
        <input type="number" step="0.01" min="0" max="4.0" id="currentCgpa" placeholder="Current CGPA" class="p-3 border rounded-md w-full md:w-1/2">
      </div>

      <!-- Courses Container -->
      <div id="coursesContainer" class="space-y-4 mb-4"></div>

      <!-- Buttons -->
      <div class="flex flex-wrap gap-4">
        <button class="bg-green-600 text-white px-4 py-2 rounded-lg" onclick="addCourse()">+ Add Course</button>
        <button class="bg-blue-700 text-white px-4 py-2 rounded-lg" onclick="calculateCgpa()">Calculate CGPA</button>
      </div>

      <!-- Result -->
      <div id="resultDisplay" class="mt-8 max-w-md mx-auto">
        <!-- Result Box (initial empty content) -->
        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 shadow-md text-center">
          <p class="text-lg font-semibold text-blue-800">Total Credits Passed: <span id="totalCredits">0</span></p>
          <p class="text-lg font-semibold text-blue-800">Final CGPA: <span id="finalCgpa">0.00</span></p>
        </div>
      </div>

    </main>
    <!-- Custom Grading Modal -->
    <div id="customModal" class="fixed inset-0 bg-gray-200 bg-opacity-50 flex items-center justify-center hidden z-50">
      <div class="bg-white rounded-lg shadow-lg w-full max-w-md p-6 space-y-4 relative">
        <h2 class="text-xl font-bold mb-2">Custom Grading Policy</h2>

        <div id="customGradesContainer" class="space-y-2">
          <!-- Grade rows will be added here -->
        </div>

        <button onclick="addCustomGradeRow()" class="bg-green-500 text-white px-4 py-2 rounded">
          + Add Grade
        </button>

        <div class="flex justify-end gap-2 mt-4">
          <button onclick="closeCustomGrading()" class="px-4 py-2 bg-gray-300 rounded">Cancel</button>
          <button onclick="saveCustomGrading()" class="px-4 py-2 bg-blue-600 text-white rounded">Done</button>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>

</html>